<template>
    <lightning-card variant="Narrow" title="Records" icon-name="standard:related_list">
        <!--Table Header Panel-->
        <div class="slds-p-left_medium">
            <c-datatable-header-panel
                    visible-records-count={visibleRecordsCount}
                    visible-columns-count={visibleColumnsCount}
                    forbid-records-copy-action={forbidRecordsCopyAction}
                    forbid-search={areRecordsEmpty}
                    onvisiblerecordschange={handleVisibleRecordsChange}
                    onvisiblecolumnschange={handleVisibleColumnsChange}>
            </c-datatable-header-panel>
        </div>

        <!--Table-->
        <div class="slds-is-relative slds-p-around_medium">
            <lightning-datatable
                    key-field="id"
                    data={records}
                    columns={columns}
                    show-row-number-column
                    onrowselection={handleRowSelection}>
            </lightning-datatable>
            <!--Table Spinner-->
            <template if:true={showSpinner}>
                <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
            </template>
            <!--Table No Records-->
            <template if:true={areRecordsEmpty}>
                <div class="slds-text-heading_medium slds-text-align_center">{labels.noDataToDisplay}</div>
            </template>
        </div>
    </lightning-card>
</template>