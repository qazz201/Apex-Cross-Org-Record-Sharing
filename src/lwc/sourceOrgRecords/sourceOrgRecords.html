<template>
    <div class="slds-is-relative">
        <div class="slds-text-heading_medium slds-text-align_center">
            Records
        </div>

        <!--Table Header Panel-->
        <c-datatable-header-panel
                visible-records-count={visibleRecordsCount}
                visible-columns-count={visibleColumnsCount}
                forbid-records-copy-action={forbidRecordsCopyAction}
                forbid-search={areRecordsEmpty}
                onvisiblerecordschange={handleVisibleRecordsChange}
                onvisiblecolumnschange={handleVisibleColumnsChange}>
        </c-datatable-header-panel>

        <!--Table-->
        <lightning-datatable
                key-field="id"
                data={records}
                columns={columns}
                show-row-number-column
                onrowselection={handleRowSelection}>
        </lightning-datatable>

        <!--Spinner-->
        <template if:true={showSpinner}>
            <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
        </template>

        <!--No Records-->
        <template if:true={areRecordsEmpty}>
            <div class="slds-text-heading_medium slds-text-align_center">
                No data to display
            </div>
        </template>
    </div>
</template>